(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2db72e9a"],{"0b65":function(t,e,s){},"1ece":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("article",t._l(t.alertArrayProp,function(e,r){return s("div",{key:r,staticClass:"alert alert-dismissible fade show d-flex align-items-center alert_item px-4",class:e.isDanger?"alert-danger":"alert-success",attrs:{role:"alert"}},[s("span",[t._v(t._s(e.text))]),s("button",{staticClass:"btn btn-success ml-auto py-1 px-2",on:{click:function(e){return e.preventDefault(),t.deleteAlert(r)}}},[s("span",[t._v("×")])])])}),0)},a=[],i={props:["alertArrayProp"],methods:{deleteAlert:function(t){this.$emit("on-delete-alert",t)}}},n=i,o=(s("d771"),s("2877")),l=Object(o["a"])(n,r,a,!1,null,"45f8d931",null);e["a"]=l.exports},"4c86":function(t,e,s){},"95a8":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isLoading?t._e():s("article",{staticClass:"container mx-auto position-relative"},[s("Alert",{staticClass:"alert_section position-absolute",attrs:{alertArrayProp:t.alertArray},on:{"on-delete-alert":t.deleteAlert}}),s("section",{staticClass:"w-80 mx-auto flex-center flex-column mb-6"},[s("h1",{staticClass:"d-block mb-3"},[t._v("修改密碼")]),s("div",{staticClass:"input-group input-group-lg mb-3"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),s("div",{staticClass:"input-group input-group-lg mb-3"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmNewPassword,expression:"confirmNewPassword"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm"},domProps:{value:t.confirmNewPassword},on:{input:function(e){e.target.composing||(t.confirmNewPassword=e.target.value)}}})]),t.isAlertShow?s("div",{staticClass:"text-danger mb-3"},[t._v("兩者密碼不同喔'")]):t._e(),s("button",{staticClass:"d-block btn btn-primary",on:{click:function(e){return e.preventDefault(),t.modifyPassword(e)}}},[t._v("確認修改")])]),s("section",{staticClass:"w-80 mx-auto pt-6"},[s("h1",{staticClass:"d-block text-center"},[t._v("訂單列表")]),0!==t.orderData.length?s("ul",t._l(t.orderData,function(e,r){return s("li",{key:r,staticClass:"border my-3 p-3"},[s("h3",[t._v("購買商品")]),t._l(e.cartData,function(e,r){return s("div",{key:r,staticClass:"d-flex align-items-center my-3"},[s("img",{staticClass:"product_img",attrs:{src:e.imgUrl}}),s("pre",{staticClass:"ml-3 h4"},[t._v(t._s(e.fullId)+"   "+t._s(e.title)+"-"+t._s(e.colorObject.colorName)+"-"+t._s(e.sizeObject.sizeName)+"   x"+t._s(e.qty)+"件   總價 "+t._s(e.totalPrice))])])}),s("h3",{staticClass:"mb-3"},[t._v("收貨資訊")]),s("h4",{staticClass:"ml-3"},[t._v("\n          收貨人"+t._s(e.receiverData.name)+"\n          連絡電話"+t._s(e.receiverData.phone)+"\n          收貨地址"+t._s(e.receiverData.address)+"\n        ")])],2)}),0):s("div",{staticClass:"text-center"},[s("h2",[t._v("你還沒下訂任何商品喔")])])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-lg"}},[t._v("新密碼")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-lg"}},[t._v("確認新密碼")])])}],i=s("1ece"),n=s("7508"),o={components:{Alert:i["a"]},name:"user",data:function(){return{alertArray:[],orderData:[],newPassword:"",confirmNewPassword:"",isAlertShow:!1}},computed:{isLoading:function(){return this.$store.state.isLoading},isPasswordSame:function(){return this.newPassword===this.confirmNewPassword}},methods:{deleteAlert:function(t){this.alertArray.splice(t,1)},alert:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.alertArray.push({text:t,isDanger:s}),setTimeout(function(){e.alertArray.splice(0,1)},1e3)},ensureLogin:function(){this.$store.state.user_email||this.$router.push("/login")},getOrder:function(){var t=this,e=new n["a"]("user/order","get",null,!0);e.doAxios(this,function(e){t.orderData=e.data.data,t.alert("抓取訂單成功")},function(){t.alert("抓取訂單失敗",!0)})},modifyPassword:function(){var t=this;if(this.isPasswordSame){var e=new n["a"]("user/modify_password","put",{newPassword:this.newPassword,user_email:this.$store.state.user_email},!0);e.doAxios(this,function(){t.alert("修改密碼成功")},function(e){console.log(e),t.alert("修改密碼失敗",!0)})}else this.isAlertShow=!0},imgUrl:function(t){return"".concat("https://nodetest-234616.appspot.com/","img/").concat(t,"/1.jpg")}},created:function(){this.ensureLogin(),this.getOrder()},beforeUpdate:function(){console.log("user.vue beforeUp"),this.ensureLogin()}},l=o,c=(s("a96c"),s("2877")),u=Object(c["a"])(l,r,a,!1,null,"0b0de045",null);e["default"]=u.exports},a96c:function(t,e,s){"use strict";var r=s("4c86"),a=s.n(r);a.a},d771:function(t,e,s){"use strict";var r=s("0b65"),a=s.n(r);a.a}}]);
//# sourceMappingURL=chunk-2db72e9a.644b4c3d.js.map